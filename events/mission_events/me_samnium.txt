namespace = samnium_event

samnium_event.1 = {
    type = country_event
    title = samnium_event.1.t
    desc = samnium_event.1.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.1.a"
        if = {
            limit = {
                has_global_variable = lucania_lost_war
            }
            add_country_modifer = {
                name = samnium_war_lost_recovery
                duration = 1825 # 5 years
            }
        }
        else_if = {
            limit = {
                has_global_variable = tarentum_lost_war
            }
            add_political_influence = 25
            add_treasury = 250
            current_ruler = {
                add_martial = 1
                add_popularity = 5
            }
        }
        else_if = {
            limit = {
                has_variable = samnium_doesn't_fight_var
            }
            add_political_influence = 50
            current_ruler = {
                add_charisma = 1
                add_popularity = 5
            }
        }
        else = { # fallback, although not really necessary. you never knoe though what those players will cook up
            add_political_influence = 50
        }
    }
}

samnium_event.2 = {
    type = country_event
    title = samnium_event.2.t
    desc = samnium_event.2.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.2.a"
        add_political_influence = 50
        add_treasury = 150
        capital_scope = {
            define_pop = {
                culture = etrurian
                religion = italic_pantheon
                type = freemen
            }
            define_pop = {
                culture = umbrian
                religion = italic_pantheon
                type = freemen
            }
        }
    }
}

samnium_event.3 = {
    type = country_event
    title = samnium_event.3.t
    desc = samnium_event.3.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.3.a"
        add_manpower = 5
        add_country_modifier = {
            name = temporary_levy_size_samnium
            duration = 1825 # 5 years
        }
    }
}

samnium_event.4 = {
    type = country_event
    title = samnium_event.4.t
    desc = samnium_event.4.desc
    picture = city_construction

    right_portrait = c:ROM.current_ruler
    left_portrait = current_ruler
    left_portarit = scope:target

    immediate = {
        hidden_effect = {
            save_scope_as = actor
            create_character = {
                add_finesse = 1
                age = 28
                female = no
                save_scope_as = target
            }
        }
    }

    option = {
        name = "samnium_event.4.a"
        add_political_influence = -10
        scope:target = {
            custom_tooltip = "espionage_effect_tooltip"
            if = {
                limit = {
                    exists = scope:recipient
                }
                move_country = scope:recipient
                set_variable = {
                    name = on_espionage_mission_origin
                    value = scope:actor
                    days = -1
                }
                set_variable = {
                    name = on_espionage_mission_recipient
                    value = scope:recipient
                    days = -1
                }
                if = {
                    limit = {
                        is_minor_character = no
                    }
                    set_variable = {
                        name = on_espionage_mission_family
                        value = scope:target.family
                    }
                }
                trigger_event = { 
                    id = country_diplomacy.41
                    days = { 3 5 } 
                }
            }
            add_character_modifier = {
                name = on_espionage_mission_cmod
                duration = -1
            }
            hidden_effect = {
                set_as_minor_character = THIS
            }
        }
    }
}

samnium_event.5 = {
    type = country_event
    title = samnium_event.5.t
    desc = samnium_event.5.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.5.a"
        add_military_experience = 25
    }
}

samnium_event.6 = {
    type = country_event
    title = samnium_event.6.t
    desc = samnium_event.6.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.6.a"
        add_country_modifier = {
            name = war_aftermath_samnium
            duration = 3650
        }
    }
}