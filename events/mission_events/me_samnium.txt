namespace = samnium_event

samnium_event.1 = {
    type = country_event
    title = samnium_event.1.t
    desc = samnium_event.1.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.1.a"
        if = {
            limit = {
                has_global_variable = lucania_lost_war
            }
            add_country_modifier = {
                name = samnium_war_lost_recovery
                duration = 1825 # 5 years
            }
        }
        else_if = {
            limit = {
                has_global_variable = tarentum_lost_war
            }
            add_political_influence = 25
            add_treasury = 250
            current_ruler = {
                add_martial = 1
                add_popularity = 5
            }
        }
        else_if = {
            limit = {
                has_variable = samnium_doesn't_fight_var
            }
            add_political_influence = 50
            current_ruler = {
                add_charisma = 1
                add_popularity = 5
            }
        }
        else = { # fallback, although not really necessary. you never knoe though what those players will cook up
            add_political_influence = 50
        }
    }
}

samnium_event.2 = {
    type = country_event
    title = samnium_event.2.t
    desc = samnium_event.2.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.2.a"
        add_political_influence = 50
        add_treasury = 150
        capital_scope = {
            define_pop = {
                culture = etruscan
                religion = italic_pantheon
                type = freemen
            }
            define_pop = {
                culture = umbrian
                religion = italic_pantheon
                type = freemen
            }
        }
    }
}

samnium_event.3 = {
    type = country_event
    title = samnium_event.3.t
    desc = samnium_event.3.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.3.a"
        add_manpower = 5
        add_country_modifier = {
            name = temporary_levy_size_samnium
            duration = 1825 # 5 years
        }
    }
}

samnium_event.4 = {
    type = country_event
    title = samnium_event.4.t
    desc = samnium_event.4.desc
    picture = city_construction

    right_portrait = c:ROM.current_ruler
    left_portrait = current_ruler
    left_portrait = scope:target

    immediate = {
        hidden_effect = {
            save_scope_as = actor
            create_character = {
                add_finesse = 1
                age = 28
                female = no
                save_scope_as = target
            }
        }
    }

    option = {
        name = "samnium_event.4.a"
        add_political_influence = -10
        scope:target = {
            custom_tooltip = "espionage_effect_tooltip"
            if = {
                limit = {
                    exists = scope:recipient
                }
                move_country = scope:recipient
                set_variable = {
                    name = on_espionage_mission_origin
                    value = scope:actor
                    days = -1
                }
                set_variable = {
                    name = on_espionage_mission_recipient
                    value = scope:recipient
                    days = -1
                }
                if = {
                    limit = {
                        is_minor_character = no
                    }
                    set_variable = {
                        name = on_espionage_mission_family
                        value = scope:target.family
                    }
                }
                trigger_event = { 
                    id = country_diplomacy.41
                    days = { 3 5 } 
                }
            }
            add_character_modifier = {
                name = on_espionage_mission_cmod
                duration = -1
            }
            hidden_effect = {
                set_as_minor_character = THIS
            }
        }
    }
}

samnium_event.5 = {
    type = country_event
    title = samnium_event.5.t
    desc = samnium_event.5.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.5.a"
        add_military_experience = 25
    }
}

samnium_event.6 = {
    type = country_event
    title = samnium_event.6.t
    desc = samnium_event.6.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.6.a"
        add_stability = 10
        add_country_modifier = {
            name = war_aftermath_samnium
            duration = 3650
        }
    }
}

samnium_event.7 = {
    type = country_event
    title = samnium_event.7.t
    desc = samnium_event.7.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.7.a"
        add_treasury = 500
        add_political_influence = 50
        add_innovation = 2
        current_ruler = {
            add_martial = 1
            add_trait = conqueror
        }
    }
}

samnium_event.8 = {
    type = country_event
    title = samnium_event.8.t
    desc = samnium_event.8.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.8.a"
        add_political_influence = 50
        custom_tooltip = rome_vassal_tt
        hidden_effect = {
            p:1 = {
                create_country = { # PLACEHOLDER
                    name = {
                        name = ROM
                        adjective = ROM_ADJ
                    }
                    set_country_heritage = roman_heritage
                    change_country_color = roman_red
                    change_country_flag = ROM
                    change_government = aristocratic_republic
                    save_scope_as = rome_vassal_scope
                }
            }
            make_subject = {
                target = scope:rome_vassal_scope
                type = feudatory
            }
        }
        scope:rome_vassal_scope = {
            add_country_modifier = {
                name = carthage_mission_broken_roman_spirit_modifier
                duration = -1
            }
        }
        current_ruler = {
            add_finesse = 1
            add_trait = wise
        }
    }
}

samnium_event.9 = {
    type = country_event
    title = samnium_event.9.t
    desc = samnium_event.9.desc
    picture = city_construction

    left_portrait = current_ruler

    option = {
        name = "samnium_event.9.a"
        add_military_experience = -50
        add_country_modifier = {
            name = lessons_from_war_samnium
            duration = -1
        }
    }
}

samnium_event.10 = {
    type = country_event
    title = samnium_event.10.t
    desc = samnium_event.10.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    left_portrait = c:NUC.current_ruler
    right_portrait = c:MRS.current_ruler
    right_portrait = c:PEL.current_ruler
    right_portrait = c:FRE.current_ruler

    option = { # annex them all!
        name = "samnium_event.10.a"
        custom_tooltip = samnium_socii_annexation_tt
        set_variable = samnium_annex_socii_var
        if = {
            limit = {
                c:NUC = {
                    has_land = yes
                }
            }
            c:NUC = {
                trigger_event = samnium_event.11
            }
        }
        if = {
            limit = {
                c:PEL = {
                    has_land = yes
                }
            }
            c:PEL = {
                trigger_event = samnium_event.11
            }
        }
        if = {
            limit = {
                c:MRS = {
                    has_land = yes
                }
            }
            c:MRS = {
                trigger_event = samnium_event.11
            }
        }
        if = {
            limit = {
                c:FRE = {
                    has_land = yes
                }
            }
            c:FRE = {
                trigger_event = samnium_event.11
            }
        }
    }

    option = { # demand vassalage
        name = "samnium_event.10.b"
        custom_tooltip = samnium_socii_vassalage_tt
        set_variable = samnium_vassalize_socii_var
        if = {
            limit = {
                c:NUC = {
                    has_land = yes
                }
            }
            c:NUC = {
                trigger_event = samnium_event.12
            }
        }
        if = {
            limit = {
                c:PEL = {
                    has_land = yes
                }
            }
            c:PEL = {
                trigger_event = samnium_event.12
            }
        }
        if = {
            limit = {
                c:MRS = {
                    has_land = yes
                }
            }
            c:MRS = {
                trigger_event = samnium_event.12
            }
        }
        if = {
            limit = {
                c:FRE = {
                    has_land = yes
                }
            }
            c:FRE = {
                trigger_event = samnium_event.12
            }
        }
    }

    option = { # leave them be
        name = "samnium_event.10.c"
        custom_tooltip = samnium_socii_independence_tt
        add_stability = 10
    }
}

samnium_event.11 = { # event for socii to accept demands: annexation
    type = country_event
    title = samnium_event.11.t
    desc = samnium_event.11.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    left_portrait = c:NUC.current_ruler
    right_portrait = c:MRS.current_ruler
    right_portrait = c:PEL.current_ruler
    right_portrait = c:FRE.current_ruler

    trigger = {
        has_land = yes
        is_subject = no
    }

    option = { # yes
        name = "samnium_event.11.a"

        ai_chance = {
            modifier = {
                add = 100
                opinion = {
                    target = c:SAM
                    value >= 50
                }
            }
        }

        show_as_tooltip = {
            ROOT = {
                every_owned_province = {
                    set_owned_by = c:SAM
                }
            }
        }
        switch = {
            trigger = tag
            NUC = {
                c:SAM = { trigger_event = samnium_event.13 }
            }
            FRE = {
                c:SAM = { trigger_event = samnium_event.14 }
            }
            PEL = {
                c:SAM = { trigger_event = samnium_event.15 }
            }
            MRS = {
                c:SAM = { trigger_event = samnium_event.16 }
            }
        }
    }

    option = { # no
        name = "samnium_event.11.b"
        switch = {
            trigger = tag
            NUC = {
                c:SAM = { trigger_event = samnium_event.17 }
            }
            FRE = {
                c:SAM = { trigger_event = samnium_event.18 }
            }
            PEL = {
                c:SAM = { trigger_event = samnium_event.19 }
            }
            MRS = {
                c:SAM = { trigger_event = samnium_event.20 }
            }
        }
    }
}

samnium_event.12 = { # event for socii to accept demands: vassalization
    type = country_event
    title = samnium_event.12.t
    desc = samnium_event.12.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    left_portrait = c:NUC.current_ruler
    right_portrait = c:MRS.current_ruler
    right_portrait = c:PEL.current_ruler
    right_portrait = c:FRE.current_ruler

    trigger = {
        has_land = yes
        is_subject = no
    }

    option = { # yes
        name = "samnium_event.12.a"
        switch = {
            trigger = tag
            NUC = {
                c:SAM = { trigger_event = samnium_event.13 }
            }
            FRE = {
                c:SAM = { trigger_event = samnium_event.14 }
            }
            PEL = {
                c:SAM = { trigger_event = samnium_event.15 }
            }
            MRS = {
                c:SAM = { trigger_event = samnium_event.16 }
            }
        }
        ai_chance = {
            modifier = {
                add = 100
                opinion = {
                    target = c:SAM
                    value >= 50
                }
            }
        }

        show_as_tooltip = {
            c:SAM = {
                make_subject = {
                    target = ROOT
                    type = feudatory
                }
            }
        }
    }

    option = { # no
        name = "samnium_event.12.b"
        switch = {
            trigger = tag
            NUC = {
                c:SAM = { trigger_event = samnium_event.17 }
            }
            FRE = {
                c:SAM = { trigger_event = samnium_event.18 }
            }
            PEL = {
                c:SAM = { trigger_event = samnium_event.19 }
            }
            MRS = {
                c:SAM = { trigger_event = samnium_event.20 }
            }
        }
        show_as_tooltip = {
            declare_war_with_wargoal = {
                war_goal = independence_wargoal
                province = root.capital_scope
                target = c:SAM
            }
        }
    }
}

samnium_event.13 = { # ping acceptance nuceria
    type = country_event
    title = samnium_event.13.t
    desc = samnium_event.13.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:NUC.current_ruler

    option = { # no
        name = "samnium_event.13.a"
        if = {
            limit = {
                has_variable = samnium_annex_socii_var
            }
            c:NUC = {
                every_owned_province = {
                    set_owned_by = root
                }
            }
        }
        if = {
            limit = {
                has_variable = samnium_vassalize_socii_var
            }
            make_subject = {
                target = c:NUC
                type = feudatory
            }
        }
    }
}

samnium_event.14 = { # ping acceptance frentania
    type = country_event
    title = samnium_event.14.t
    desc = samnium_event.14.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:FRE.current_ruler

    option = { # no
        name = "samnium_event.14.a"
        if = {
            limit = {
                has_variable = samnium_annex_socii_var
            }
            c:FRE = {
                every_owned_province = {
                    set_owned_by = root
                }
            }
        }
        if = {
            limit = {
                has_variable = samnium_vassalize_socii_var
            }
            make_subject = {
                target = c:FRE
                type = feudatory
            }
        }
    }
}

samnium_event.15 = { # ping acceptance pelignia
    type = country_event
    title = samnium_event.15.t
    desc = samnium_event.15.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:PEL.current_ruler

    option = { # no
        name = "samnium_event.15.a"
        if = {
            limit = {
                has_variable = samnium_annex_socii_var
            }
            c:PEL = {
                every_owned_province = {
                    set_owned_by = root
                }
            }
        }
        if = {
            limit = {
                has_variable = samnium_vassalize_socii_var
            }
            make_subject = {
                target = c:PEL
                type = feudatory
            }
        }
    }
}

samnium_event.16 = { # ping acceptance marsi
    type = country_event
    title = samnium_event.16.t
    desc = samnium_event.16.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:MRS.current_ruler

    option = { # no
        name = "samnium_event.16.a"
        if = {
            limit = {
                has_variable = samnium_annex_socii_var
            }
            c:MRS = {
                every_owned_province = {
                    set_owned_by = root
                }
            }
        }
        if = {
            limit = {
                has_variable = samnium_vassalize_socii_var
            }
            make_subject = {
                target = c:MRS
                type = feudatory
            }
        }
    }
}

samnium_event.17 = { # ping refusal nuceria
    type = country_event
    title = samnium_event.17.t
    desc = samnium_event.17.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:NUC.current_ruler

    option = { # no
        name = "samnium_event.17.a"
        c:NUC = {
            declare_war_with_wargoal = {
                war_goal = independence_wargoal
                province = root.capital_scope
                target = ROOT
            }
        }
    }
}

samnium_event.18 = { # ping refusal frentania
    type = country_event
    title = samnium_event.18.t
    desc = samnium_event.18.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:FRE.current_ruler

    option = { # no
        name = "samnium_event.18.a"
        c:FRE = {
            declare_war_with_wargoal = {
                war_goal = independence_wargoal
                province = root.capital_scope
                target = ROOT
            }
        }
    }
}

samnium_event.19 = { # ping refusal pelignia
    type = country_event
    title = samnium_event.19.t
    desc = samnium_event.19.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:PEL.current_ruler

    option = { # no
        name = "samnium_event.19.a"
        c:PEL = {
            declare_war_with_wargoal = {
                war_goal = independence_wargoal
                province = root.capital_scope
                target = ROOT
            }
        }
    }
}

samnium_event.20 = { # ping refusal marsi
    type = country_event
    title = samnium_event.20.t
    desc = samnium_event.20.desc
    picture = city_construction

    left_portrait = current_ruler
    right_portrait = c:MRS.current_ruler

    option = { #
        name = "samnium_event.20.a"
        c:MRS = {
            declare_war_with_wargoal = {
                war_goal = independence_wargoal
                province = root.capital_scope
                target = ROOT
            }
        }
    }
}

samnium_event.21 = { # try to steal a vassal of rome
    type = country_event
    title = samnium_event.21.t
    desc = samnium_event.21.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    right_portrait = c:ROM.current_ruler

    option = { # nuceria
        name = "samnium_event.21.a"
        trigger = {
            c:NUC = {
                has_subject_loyalty < 40
            }
        }
        add_treasury = -100
        c:NUC = {
            save_scope_as = samnium_country_to_get_stolen_scope
            trigger_event = samnium_event.22
        }
    }

    option = { # frentania
        name = "samnium_event.21.b"
        trigger = {
            c:FRE = {
                has_subject_loyalty < 40
            }
        }
        add_treasury = -100
        c:FRE = {
            save_scope_as = samnium_country_to_get_stolen_scope
            trigger_event = samnium_event.22
        }
    }

    option = { # pelignia
        name = "samnium_event.21.c"
        trigger = {
            c:PEL = {
                has_subject_loyalty < 40
            }
        }
        add_treasury = -100
        c:PEL = {
            save_scope_as = samnium_country_to_get_stolen_scope
            trigger_event = samnium_event.22
        }
    }

    option = { # marsi
        name = "samnium_event.21.d"
        trigger = {
            c:MRS = {
                has_subject_loyalty < 40
            }
        }
        add_treasury = -100
        c:MRS = {
            save_scope_as = samnium_country_to_get_stolen_scope
            trigger_event = samnium_event.22
        }
    }

    option = { # actually, too expensive
        name = "samnium_event.21.e"
    }
}

samnium_event.22 = { # ping country you want to steal
    type = country_event
    title = samnium_event.22.t
    desc = samnium_event.22.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    right_portrait = scope:samnium_country_to_get_stolen_scope.current_ruler
    right_portrait = c:ROM.current_ruler

    immediate = {
        add_treasury = 100
    }

    option = { # yes, fuck rommy
        name = "samnium_event.22.a"
        show_as_tooltip = {
            c:ROM = {
                release_subject = scope:samnium_country_to_get_stolen_scope
            }
            make_subject = {
                target = scope:samnium_country_to_get_stolen_scope
                type = feudatory
            }
        }
    }

    option = { # no, fuck you sammy
        name = "samnium_event.22.a"
        c:ROM = {
            add_opinion = {
                modifier = rome_remained_loyal
                target = root
            }
        }
    }
}


samnium_event.23 = { # ping acceptance vassal stealing
    type = country_event
    title = samnium_event.23.t
    desc = samnium_event.23.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    left_portrait = scope:samnium_country_to_get_stolen_scope.current_ruler
    right_portrait = c:ROM.current_ruler

    option = { #
        name = "samnium_event.23.a"
        c:ROM = {
            release_subject = scope:samnium_country_to_get_stolen_scope
        }
        make_subject = {
            target = scope:samnium_country_to_get_stolen_scope
            type = feudatory
        }
    }
}

samnium_event.24 = { # ping refusal vassal stealing
    type = country_event
    title = samnium_event.24.t
    desc = samnium_event.24.desc
    picture = city_construction

    left_portrait = c:SAM.current_ruler
    right_portrait = scope:samnium_country_to_get_stolen_scope.current_ruler
    right_portrait = c:ROM.current_ruler

    option = { # what a shame
        name = "samnium_event.24.a"
    }
}


### 2nd tree starts here (some other events might be added to the first tree)

samnium_event.25 = { # start of events for lots of contact with hellenics
    type = country_event
    title = samnium_event.25.t
    desc = samnium_event.25.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.25.a"
    }
}

samnium_event.26 = { # start of events for how to react
    type = country_event
    title = samnium_event.26.t
    desc = samnium_event.26.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.26.a"
    }
}

samnium_event.27 = { # cultural resistance
    type = country_event
    title = samnium_event.27.t
    desc = samnium_event.27.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.27.a"
    }
}

samnium_event.28 = { # syncretism
    type = country_event
    title = samnium_event.28.t
    desc = samnium_event.28.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.28.a"
    }
}

samnium_event.29 = { # conversion
    type = country_event
    title = samnium_event.29.t
    desc = samnium_event.29.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.29.a"
    }
}

samnium_event.30 = { # 
    type = country_event
    title = samnium_event.30.t
    desc = samnium_event.30.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.30.a"
    }
}

samnium_event.31 = { # 
    type = country_event
    title = samnium_event.31.t
    desc = samnium_event.31.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.31.a"
    }
}

samnium_event.32 = { # 
    type = country_event
    title = samnium_event.32.t
    desc = samnium_event.32.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.32.a"
    }
}

samnium_event.33 = { # 
    type = country_event
    title = samnium_event.33.t
    desc = samnium_event.33.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.33.a"
    }
}

samnium_event.34 = { # 
    type = country_event
    title = samnium_event.34.t
    desc = samnium_event.34.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.34.a"
    }
}

samnium_event.35 = { # 
    type = country_event
    title = samnium_event.35.t
    desc = samnium_event.35.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.35.a"
    }
}

samnium_event.36 = { # 
    type = country_event
    title = samnium_event.36.t
    desc = samnium_event.36.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.36.a"
    }
}

samnium_event.37 = { # 
    type = country_event
    title = samnium_event.37.t
    desc = samnium_event.37.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.37.a"
    }
}

samnium_event.38 = { # 
    type = country_event
    title = samnium_event.38.t
    desc = samnium_event.38.desc
    picture = city_construction

    left_portrait = current_ruler

    option = { # what a shame
        name = "samnium_event.38.a"
    }
}