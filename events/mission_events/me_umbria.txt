namespace = me_umbria

me_umbria.1 = { #Deal with the etruscans - effect
    type = country_event
    hidden = yes
    
    immediate = {
        trigger_event = {
            id = { me_umbria.28 }
        }
    }
}

me_umbria.2 = { 
    type = country_event
    hidden = yes

    immediate = {
        c:ETR = {
            add_opinion = {
                modifier = etrurian_umbrian_relations_opinion
                target = root
            }
        }
        root = {
            add_opinion = {
                modifier = etrurian_umbrian_relations_opinion
                target = root
            }
        }
    }
    
}

me_umbria.3 = { 
    type = country_event
    hidden = yes
    
    immediate = {
        area:south_etruria_area = {
            add_provincial_claim_effect = yes
        }
        area:north_etruria_area = {
            add_provincial_claim_effect = yes
        }
        area:pisae_area = {
            add_provincial_claim_effect = yes
        }
        hidden:p:131 = {
            add_claim = root
        } 
        hidden:p:140 = {
            add_claim = root
        } 
        add_country_modifier = {
            name = umb_etrurian_imports_cmod
            duration = 7300 #20 years
        }
    }
}

me_umbria.4 = { 
    type = country_event
    hidden = yes
     
    immediate = {
        save_scope_as = umb_country_at_war_with_rome
        random_current_war = {
            limit = {
                AND = {
                    any_war_participant = c:ROM
                    any_war_participant = ROOT
                    OR = {
                        AND = {
                            any_war_attacker = ROOT
                            any_war_defender = c:ROM
                        }
                        AND = {
                            any_war_attacker = c:ROM
                            any_war_defender = ROOT
                        }
                    }
                }
            }
            save_scope_as = war_between_umb_and_rome
        }
        c:ETR = {
            trigger_event = { id = me_umbria.30 }
        }
    }
}

me_umbria.5 = { 
    type = country_event
    hidden = yes
    
    immediate = {
        area:south_etruria_area = {
            add_provincial_claim_effect = yes
        }
        area:north_etruria_area = {
            add_provincial_claim_effect = yes
        }
        area:pisae_area = {
            add_provincial_claim_effect = yes
        }
        hidden:p:131 = {
            add_claim = root
        } 
        hidden:p:140 = {
            add_claim = root
        } 
    }
}

me_umbria.6 = { 
    type = country_event
    hidden = yes
    
    immediate = {
        add_country_modifier = {
            name = umb_influence_from_etruscan_cities_cmod
            duration = 7200 #20 years
        }
        current_ruler = {
            add_popularity = 15
        }
    }
}

me_umbria.7 = { 
    type = country_event
    hidden = yes
    
    immediate = {
        trigger_event = { id = me_umbria.31 }
    }
}

me_umbria.8 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.9 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.10 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.11 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.12 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.13 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.14 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.15 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.16 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.17 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.18 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.19 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.20 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.21 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.22 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.23 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.24 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.25 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.26 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.27 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.28 = { 
    type = country_event
    title = me_umbria.28.t
    desc = me_umbria.28.desc
    picture = celtic_village

    option = {
        name = me_umbria.28.a
        custom_tooltip = "me_umbria.28.a_tt"
        potential = {
            c:ETR = {
                opinion = {
                    target = root
                    value >= 20
                }
            }
        }
        root.country = {
            set_variable = umb_seeking_friendly_relations_with_etr
        }
    }

    option = {
        name = me_umbria.28.b
        custom_tooltip = "me_umbria.28.b_tt"
        potential = {
            c:ETR = {
                opinion = {
                    target = root
                    value <= -20
                }
            }
        }
        root.country = {
            set_variable = umb_seeking_to_destroy_etr
        }
        hidden:p:131 = {
            add_claim = root
        }
        hidden:p:140 = {
            add_claim = root
        }
        hidden:p:139 = {
            add_claim = root
        }
        hidden:p:124 = {
            add_claim = root
        }
        hidden:p:120 = {
            add_claim = root
        }
        hidden:p:102 = {
            add_claim = root
        }
    }
}

me_umbria.29 = { 
    type = country_event
    hidden = yes
    
}

me_umbria.30 = { #the umbrians have called us to war (ETR)
    type = country_event
    title = me_umbria.30.t
    desc = me_umbria.30.desc
    picture = celtic_village

    option = { #we go to war with rome
        name = me_umbria.30.a
        custom_tooltip = "me_umbria.30.a_tt"

        scope:war_between_umb_and_rome = {
            if = {
                limit = {
                    any_war_defender = scope:umb_country_at_war_with_rome
                }
                add_to_war = {
                    target = root
                    attacker = no
                    leader = no
                }
            }
            else_if = {
                limit = {
                    any_war_attacker = scope:umb_country_at_war_with_rome
                }
                add_to_war = {
                    target = root
                    attacker = yes
                    leader = no
                }
            }
        }
    }

    option = { #we abandon umbria (ai will not choose)
        name = me_umbria.30.b
        custom_tooltip = "me_umbria.30.b_tt"
    }
}

me_umbria.31 = { #Option to sack Etruria
    type = country_event
    title = me_umbria.31.t
    desc = me_umbria.31.desc
    picture = celtic_village

    option = { #Spare the etrurians, gain integration progress and cultural happiness
        name = me_umbria.31.a
        custom_tooltip = "me_umbria.31.a_tt"
    }

    option = { #Destroy them! (poor etrurians)
        name = me_umbria.31.b
        custom_tooltip = "me_umbria.31.b_tt"
    }
}

me_umbria.32 = { #the Etrurians have joined the fight!
    type = country_event
    title = me_umbria.32.t
    desc = me_umbria.32.desc
    picture = celtic_village

    option = { #yey!
        name = me_umbria.32.a
        custom_tooltip = "me_umbria.32.a_tt"
    }

}