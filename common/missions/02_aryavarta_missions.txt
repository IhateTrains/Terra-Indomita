aryavarta_missions = { # The Land of Aryans
    header = "indian_mission_header"
    icon = "india_2"

    repeatable = no
    chance = 1000

    potential = {
        NOT = { has_variable = mission_cooldown_var }
        tag = ARY
    }

    abort = {}
    on_start = {
        start_mission_ai_effect = yes
    }
    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = mission_cooldown_var
            days = 7300
        }
    }
    on_completion = {

    }
    aryavarta_missions_task_1 = { # Heart of Aryavarta
        icon = "task_political"
        duration = 180
        highlight = {
            scope:province = {
                OR = {
                    is_in_region = gandhara_region
                    is_in_region = madhyadesa_region
                    AND = {
                        is_in_region = maru_region
                        NOR = {
                            is_in_area = outer_saurashtra_area
                            is_in_area = inner_saurashtra_area
                            is_in_area = maru_area
                            is_in_area = abhiria_area
                            is_in_area = kaccha_area
                        }
                    }
                }
            }
        }
        allow = {
            political_influence >= 25
            treasury >= 150
        }
        on_completion = {
            trigger_event = me_aryavarta.1
            show_as_tooltip = {
                custom_tooltip = claims_on_heartlands_arya_tt
            }
        }
    }
    aryavarta_missions_task_2 = { # Consolidate the Indus
        icon = "task_battle"
        requires = { aryavarta_missions_task_1 }
        highlight = {
            scope:province = {
                OR = {
                    is_in_region = gandhara_region
                    AND = {
                        is_in_region = maru_region
                        NOR = {
                            is_in_area = outer_saurashtra_area
                            is_in_area = inner_saurashtra_area
                            is_in_area = maru_area
                            is_in_area = abhiria_area
                            is_in_area = kaccha_area
                        }
                    }
                }
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.2
        }
    }
    aryavarta_missions_task_3 = { # Consolidate the Ganges
        icon = "task_economical"
        requires = { aryavarta_missions_task_1 }
        highlight = {
            scope:province = {
                is_in_region = madhyadesa_region
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.3
        }
    }
    aryavarta_missions_task_4 = { # The Indo-Gangetic Plain
        icon = "task_shiva"
        requires = { aryavarta_missions_task_2 aryavarta_missions_task_3 }
        highlight = {
            scope:province = {
                OR = {
                    is_in_region = gandhara_region
                    is_in_region = madhyadesa_region
                    AND = {
                        is_in_region = maru_region
                        NOR = {
                            is_in_area = outer_saurashtra_area
                            is_in_area = inner_saurashtra_area
                            is_in_area = maru_area
                            is_in_area = abhiria_area
                            is_in_area = kaccha_area
                        }
                    }
                }
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.4
        }
    }
    aryavarta_missions_task_5 = { # The Southern Aryans
        icon = "task_durga"
        duration = 180
        requires = { aryavarta_missions_task_7 }
        highlight = {
            scope:province = {
                OR = {
                    is_in_region = aparanta_region
                    is_in_region = vindhyaprstha_region
                }
            }
        }
        allow = {
            political_influence >= 25
            treasury >= 150
        }
        on_completion = {
            trigger_event = me_aryavarta.5
        }
    }
    aryavarta_missions_task_6 = { # Subdue the Saurashta
        icon = "task_expansion"
        requires = { aryavarta_missions_task_2 }
        highlight = {
            scope:province = {
                OR = {
                    AND = {
                        is_in_region = maru_region
                        OR = {
                            is_in_area = outer_saurashtra_area
                            is_in_area = inner_saurashtra_area
                            is_in_area = maru_area
                            is_in_area = abhiria_area
                            is_in_area = kaccha_area
                        }
                    }
                }
            }
        }
        allow = {

        }
        on_completion = {
            trigger_event = me_aryavarta.6
        }
    }
    aryavarta_missions_task_7 = { # Great Realm of Avanti
        icon = "task_happiness"
        requires = { aryavarta_missions_task_4 }
        highlight = {
            scope:province = {
                is_in_region = avanti_region
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.7
        }
    }
    aryavarta_missions_task_8 = { # The Pracyan Realm
        icon = "task_atlas"
        requires = { aryavarta_missions_task_3 }
        highlight = {
            scope:province = {
                is_in_region = pracya_region
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.8
        }
    }
    aryavarta_missions_task_9 = { # Consolidate Aparanta
        icon = "task_happiness"
        requires = { aryavarta_missions_task_5 }
        highlight = {
            scope:province = {
                is_in_region = aparanta_region
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.9
        }
    }
    aryavarta_missions_task_10 = { # Consolidate Vindhyaprshtha
        icon = "task_political"
        requires = { aryavarta_missions_task_5 }
        highlight = {
            scope:province = {
                is_in_region = vindhyaprstha_region
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.10
        }
    }
    aryavarta_missions_task_11 = { # Sister in the South
        icon = "task_diplomatic"
        requires = { aryavarta_missions_task_5 }
        highlight = {
            scope:province = {
                AND = {
                    is_in_region = aparanta_region
                    owner = {
                        country_culture_group = aryan
                    }
                }
            }
        }
        allow = {
            any_country = {
                limit = {
                    is_in_region = aparanta_region
                    country_culture_group = aryan
                }
                opinion = {
                    target = root 
                    value >= 150
                }
            }
        }
        on_completion = {
            trigger_event = me_aryavarta.11
        }
    }
    aryavarta_missions_task_12 = { # New Kings in Kalinga
        icon = "task_conquest"
        requires = { aryavarta_missions_task_5 }
        highlight = {
            scope:province = {
                OR = {
                    trigger_if = {
                        limit = {
                            c:KAL = { has_land = yes }
                        }
                        owner = c:KAL
                    }
                    is_in_area = kalinga_area
                }
            }
        }
        allow = {
            OR = {
                trigger_if = {
                    limit = {
                        c:KAL = { has_land = yes }
                    }
                    c:KAL = {
                        is_subject_of = root
                    }
                }
                owns_or_subject_owns_area = kalinga_area
            }
        }
        on_completion = {
            trigger_event = me_aryavarta.12
        }
    }
    aryavarta_missions_task_13 = { # Lankans and Dravidians
        icon = "task_economical"
        duration = 180
        requires = { aryavarta_missions_task_9 aryavarta_missions_task_10 }
        highlight = {
            scope:province = {
                OR = {
                    is_in_region = karnata_region
                    is_in_region = dravida_region
                }
            }
        }
        allow = {
            political_influence >= 25
            treasury >= 150
        }
        on_completion = {
            trigger_event = me_aryavarta.13
        }
    }
    aryavarta_missions_task_14 = { # The Resplendent Island
        icon = "task_diplomatic"
        requires = { aryavarta_missions_task_13 }
        highlight = {
            scope:province = {
                OR = {
                    is_in_area = north_tambapamni_area
                    is_in_area = south_tambapamni_area
                }
            }
        }
        allow = {
            OR = {
                AND = {
                    owns_or_subject_owns_area = north_tambapamni_area
                    owns_or_subject_owns_area = south_tambapamni_area
                }
                trigger_if = {
                    limit = {
                        c:ANU = { has_land = yes }
                    }
                    c:ANU = {
                        is_subject_of = root
                    }
                }
            }
        }
        on_completion = {
            trigger_event = me_aryavarta.14
        }
    }
    aryavarta_missions_task_15 = { # The Garland of Islands
        icon = "task_happiness"
        requires = { aryavarta_missions_task_13 }
        highlight = {
            scope:province = {
                is_in_area = maldives_area
            }
        }
        allow = {
            OR = {
                trigger_if = {
                    limit = {
                        c:MDP = { has_land = yes }
                    }
                    c:MDP = {
                        is_subject_of = root
                    }
                }
                owns_or_subject_owns_area = maldives_area
            }
        }
        on_completion = {
            trigger_event = me_aryavarta.15
        }
    }
    aryavarta_missions_task_16 = { # The Lofty Land
        icon = "task_conquest"
        requires = { aryavarta_missions_task_13 }
        highlight = {
            scope:province = {
                is_in_region = karnata_region
            }
        }
        allow = {
            owns_or_subject_owns_region = karnata_region
        }
        on_completion = {
            trigger_event = me_aryavarta.16
        }
    }
    aryavarta_missions_task_17 = { # The Water-Encircled Land
        icon = "task_battle"
        requires = { aryavarta_missions_task_13 }
        highlight = {
            scope:province = {
                is_in_region = dravida_region
            }
        }
        allow = {
            owns_or_subject_owns_region = dravida_region
        }
        on_completion = {
            trigger_event = me_aryavarta.17
        }
    }
    aryavarta_missions_task_18 = { # An Expedition to Burma
        icon = "task_political"
        requires = { aryavarta_missions_task_8 }
        highlight = {
            scope:province = {
                is_in_region = burma_region
            }
        }
        allow = {
            owns_or_subject_owns_region = burma_region
        }
        on_completion = {
            trigger_event = me_aryavarta.18
        }
    }
    aryavarta_missions_task_19 = { # Bharatavarsha
        icon = "task_durga"
        requires = { aryavarta_missions_task_14 aryavarta_missions_task_15 }
        highlight = {
            scope:province = {
                city_is_in_india_trigger = yes
            }
        }
        allow = {
            owns_or_subject_owns_region = gandhara_region
            owns_or_subject_owns_region = maru_region
            owns_or_subject_owns_region = avanti_region
            owns_or_subject_owns_region = madhyadesa_region
            owns_or_subject_owns_region = pracya_region
            owns_or_subject_owns_region = vindhyaprstha_region
            owns_or_subject_owns_region = aparanta_region
            owns_or_subject_owns_region = dravida_region
            owns_or_subject_owns_region = karnata_region
        }
        on_completion = {
            show_as_tooltip = {
                change_government = imperium    
                add_country_modifier = {
                    name = master_of_india
                    duration = -1
                }
            }
            trigger_event = me_aryavarta.19
        }
        final = yes
    }
    aryavarta_missions_task_20 = { # The Rann of Kaccha
        icon = "task_battle"
        requires = { aryavarta_missions_task_6 }
        highlight = {
            scope:province = {
                is_in_area = kaccha_area
            }
        }
        allow = {
        }
        on_completion = {
            trigger_event = me_aryavarta.20
        }
    }
    ### Below is mainly copied from the esteemed champion of India, Dementive, and his Tamilakam Missions tree ###
    aryavarta_missions_task_21 = { # Aryan Agriculture
        icon = "task_calm"
        highlight = {
            scope:province = {
                owner = root
                OR = {
                    trade_goods = grain
                    trade_goods = vegetables
                }
            }
        }
        allow = {
            trigger_if = {
                limit = { is_ai = no }
                custom_tooltip = {
                    text = "aryan_agriculture_tt"
                    any_owned_province = {
                        OR = {
                            trade_goods = vegetables
                            trade_goods = grain
                        }
                        OR = {
                            num_of_basic_settlement_infratructure_building = 1
                            num_of_population_building >= 2
                        }
                        has_construction = no
                        count >= 10
                    }
                }
            }                                   
        }
        on_completion = {
        add_2_free_province_investments = yes
            add_country_modifier = {
                name = mac_developed_agriculture
                duration = -1
            }
        }
    }
    aryavarta_missions_task_22 = { # Establish Trade Connections
        icon = "task_expansion"
        highlight = {
            scope:province = {  
                OR = {  
                    province_id = 6821 # port
                    province_id = 4352 # port
                    province_id = 4371 # port
                    province_id = 9282 # inland
                    province_id = 4404 # inland
                    province_id = 4425 # inland
                    province_id = 4429 # inland
                }
            }
        }
        allow = {
            p:6821 = { num_of_port_building >= 3 }
            p:4352 = { num_of_port_building >= 3 }
            p:4371 = { num_of_port_building >= 3 }
            p:9282 = { num_of_commerce_building >= 3 }
            p:4404 = { num_of_commerce_building >= 3 }
            p:4425 = { num_of_commerce_building >= 3 }
            p:4429 = { num_of_commerce_building >= 3 }
        }
        on_completion = {
            show_as_tooltip = {
                p:6821 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:4352 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:4371 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:9282 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:4404 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:4425 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                p:4429 = { add_permanent_province_modifier = { name = arya_trade_ports } }
                add_2_free_province_investments = yes
            }
        }
    }
    aryavarta_missions_task_23 = { # Culture of Color
        icon = "task_expansion"
        highlight = {
            scope:province = {  
                owner = root
                trade_goods = dye
            }
        }
        allow = {
            custom_tooltip = {
                text = arya_dye_tooltip
                arya_dye_current >= arya_dye_total
            }
        }
        on_completion = {
            show_as_tooltip = {
                p:6824 = {
                    add_permanent_province_modifier = {
                        name = arya_dyes
                    }
                }
                p:4406 = {
                    if = {
                        limit = { num_goods_produced >= 3 }
                            add_permanent_province_modifier = {
                            name = arya_dyes
                        }
                    }               
                }
                p:4420 = {
                    if = {
                        limit = { num_goods_produced >= 3 }
                            add_permanent_province_modifier = {
                            name = arya_dyes
                        }
                    }               
                }
                p:7837 = {
                    if = {
                        limit = { num_goods_produced >= 3 }
                            add_permanent_province_modifier = {
                            name = arya_dyes
                        }
                    }               
                }
                p:4352 = {
                    set_trade_goods = dye
                    add_permanent_province_modifier = {
                        name = arya_dyes
                    }               
                }
            }
        }
    }
    aryavarta_missions_task_24 = { # Indo-Gangetic Highway
        icon = "task_battle"
        requires = { aryavarta_missions_task_21 aryavarta_missions_task_22 aryavarta_missions_task_23 }
        highlight = {
            scope:province = {  
                OR = {
                    province_id = 4340
                    province_id = 4399
                    province_id = 4396
                    province_id = 4380
                    province_id = 4382
                    province_id = 9278
                    province_id = 4349
                    province_id = 4378
                    province_id = 4371
                    province_id = 4373
                    province_id = 4363
                    province_id = 4353
                    province_id = 4354
                    province_id = 4359
                    province_id = 7660
                    province_id = 6815
                    province_id = 6821
                    province_id = 4352
                    province_id = 4372
                    province_id = 4374
                }
            }
        }
        allow = {
            p:4340 = { has_road_towards = p:4399 }
            p:4399 = { has_road_towards = p:4396 }
            p:4396 = { has_road_towards = p:4380 }
            p:4380 = { has_road_towards = p:4382 }
            p:4382 = { has_road_towards = p:9278 }
            p:9278 = { has_road_towards = p:4349 }
            p:4349 = { has_road_towards = p:4378 }
            p:4378 = { has_road_towards = p:4371 }
            p:4371 = { has_road_towards = p:4373 }
            p:4373 = { has_road_towards = p:4374 }
            p:4374 = { has_road_towards = p:4372 }
            p:4372 = { has_road_towards = p:4352 }
            p:4352 = { has_road_towards = p:4363 }
            p:4363 = { has_road_towards = p:4353 }
            p:4353 = { has_road_towards = p:4354 }
            p:4354 = { has_road_towards = p:4359 }
            p:4359 = { has_road_towards = p:7660 }
            p:7660 = { has_road_towards = p:6815 }
            p:6815 = { has_road_towards = p:6821 }
        }
        on_completion = {
            custom_tooltip = indus_highway_tt
            hidden_effect = {   
                region:maru_region = {
                    limit = {
                        is_in_sindh_trigger = yes
                    }
                    every_area_province = {
                        add_province_modifier = {
                            name = indus_highway
                            duration = -1
                        }
                    }
                }
            }
        }
    }
    aryavarta_missions_task_25 = { # Temple of Kartikeya
        icon = "task_diplomatic"
        requires = { aryavarta_missions_task_24 }
        highlight = {
            scope:province = {      
                province_id = 4406
            }
        }
        allow = {
            p:4406 = {
                num_of_temple_building = 1
                num_of_used_building_slots >= 5
                has_construction = no
            }
        }
        on_completion = {
            p:4406 = {
                add_permanent_province_modifier = { name = arya_temple }
                capital_formable_small_effect = yes
            }
        }
    }
    aryavarta_missions_task_26 = { # Temple of Shiva
        icon = "task_shiva"
        requires = { aryavarta_missions_task_24 }
        highlight = {
            scope:province = {      
                province_id = 4429
            }
        }
        allow = {
            p:4429 = {
                num_of_temple_building = 1
                num_of_used_building_slots >= 5
                has_construction = no
            }
        }
        on_completion = {
            p:4420 = {
                add_permanent_province_modifier = { name = arya_temple }
                capital_formable_small_effect = yes
            }
        }
    }
    aryavarta_missions_task_27 = { # Temple of Rama
        icon = "task_religion"
        requires = { aryavarta_missions_task_24 }
        highlight = {
            scope:province = {      
                province_id = 9282
            }
        }
        allow = {
            p:9282 = {
                num_of_temple_building = 1
                num_of_used_building_slots >= 5
                has_construction = no
            }
        }
        on_completion = {
            p:9282 = {
                add_permanent_province_modifier = { name = arya_temple }
                capital_formable_small_effect = yes
                change_province_name = "lavapur"
            }
        }
    }
    aryavarta_missions_task_28 = { # Temple of Vishnu
        icon = "task_durga"
        requires = { aryavarta_missions_task_24 }
        highlight = {
            scope:province = {      
                province_id = 4437
            }
        }
        allow = {
            p:4437 = {
                num_of_temple_building = 1
                num_of_used_building_slots >= 5
                has_construction = no
            }
        }
        on_completion = {
            p:4437 = {
                add_permanent_province_modifier = { name = arya_temple }
                capital_formable_small_effect = yes
            }
        }
    }
    aryavarta_missions_task_29 = { # Build a Grand Temple 
        icon = "task_expansion"
        requires = { aryavarta_missions_task_25 aryavarta_missions_task_26 aryavarta_missions_task_27 aryavarta_missions_task_28 }
        allow = {
            treasury >= 4000
        }
        on_completion = {
            random_character = {
                limit = { 
                    age < 45
                    age > 16
                    has_any_office = no
                    finesse >= 5
                }
                add_trait = great_builder
            }       
            custom_tooltip = tamilakam_missions_01_task_12_effect_tt
        }
    }
    aryavarta_missions_task_30 = { # Paurava 
        icon = "task_happiness"
        duration = 180
        potential = { heritage = paurava_heritage }
        allow = {
            heritage = paurava_heritage
        }
        on_completion = {
            show_as_tooltip = {
                custom_tooltip = choose_new_religion_tt
                p:4340 = {
                    add_province_modifier = indian_capital_modifier
                }
            }
        }
    }
    aryavarta_missions_task_31 = { # Yaudheya 
        icon = "task_happiness"
        duration = 180
        potential = { heritage = yaudheya_heritage }
        allow = {
            heritage = yaudheya_heritage
        }
        on_completion = {
            show_as_tooltip = {
                custom_tooltip = kshatriya_aryavarta
            }
            p:4406 = {
                add_province_modifier = indian_capital_modifier
            }
        }
    }
}