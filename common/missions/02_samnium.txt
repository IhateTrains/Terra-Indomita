samnium_mission = { # Mission for Samnium
	icon = rome_1
	header = mission_image_rome
	
	repeatable = no

    chance = {
		factor = 10
	}
	
	ai_chance = { factor = 10 }

	potential = { 
		tag = SAM
		NOT = {
			has_variable = samnium_mission_cooldown
		}
	}
	
	abort = {
        ai_mission_back_out_trigger = yes
    }

    on_potential = {}

    on_start = {
    	start_mission_ai_effect = yes
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = samnium_mission_cooldown
            days = 7300
        }
    }

    on_completion = {
    	complete_mission_effect = yes
		add_2_free_province_investments = yes
    }

	samnium_task_1 = {
		icon = "task_political"
        highlight = {
            scope:province = {
                OR = {
                    owner = c:SPA
                    owner = c:APU
                    owner = c:MSP
                    owner = c:LCA
                    owner = c:TAR
                }
            }
        }
        allow = {
            custom_tooltip = {
				text = samnium_doesn_fight_303_tt
				OR = {
					has_global_variable = lucania_lost_war
					has_global_variable = tarentum_lost_war
					has_variable = samnium_doesn't_fight_var
				}
			}
        }

		on_completion = {
			trigger_event = { id = samnium_event.1 }
			show_as_tooltip = {
				add_political_influence = 50
			}
		}
	}

	samnium_task_2 = { # get allies
		icon = "task_political"
        allow = {
            calc_true_if = {
				amount >= 2
				any_country = {
					alliance_with = root
				}
			}
        }

		on_completion = {
			trigger_event = { id = samnium_event.2 }
			show_as_tooltip = {
				add_political_influence = 50
			}
		}
	}

	samnium_task_3 = { # prepare for war
		icon = "task_political"
        allow = {
            manpower >= 2
        }

		on_completion = {
			trigger_event = { id = samnium_event.3 }
			show_as_tooltip = {
				add_political_influence = 50
			}
		}
	}

	samnium_task_4 = { # sabotage - bigger event chain. maybe borrow vanilla spy events?
		icon = "task_political"
        allow = {
            political_influence >= 1
        }

		on_completion = {
			trigger_event = { id = samnium_event.4 }
			show_as_tooltip = {
				add_political_influence = 50
			}
		}
	}
}
