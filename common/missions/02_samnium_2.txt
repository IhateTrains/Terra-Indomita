samnium_mission_2 = { # 2nd Mission for Samnium 
	icon = rome_2
	header = mission_image_macedonian
	
	repeatable = no

    chance = {
		factor = 10
	}
	
	ai_chance = { factor = 10 }

	potential = { 
		NOT = {
			has_variable = samnium_mission_2_cooldown
		}
		has_completed_mission = samnium_mission
	}
	
	abort = {
        ai_mission_back_out_trigger = yes
    }

    on_potential = {}

    on_start = {
    	start_mission_ai_effect = yes
    }

    on_abort = {
        custom_tooltip = general_mission_cooldown_tt
        set_variable = {
            name = samnium_mission_2_cooldown
            days = 7300
        }
    }

    on_completion = {
    	complete_mission_effect = yes
		add_2_free_province_investments = yes
    }

	samnium_2_task_1 = { # the outside world/hellenic contacts
		icon = "task_conquest"
		duration = 365
		on_start = {
			trigger_event = { id = samnium_event.25 }
			custom_tooltip = samnium_hellenism_contact_increase_tt
		}
	}

	samnium_2_task_2 = { # decision how to react to these interactions
		icon = "task_conquest"
		duration = 365
		requires = { samnium_2_task_1 }
		allow = {
			num_of_ports >= 3
			custom_tooltip = {
				text = samnium_hellenic_pops_tt
				messapia_religion_hellenic_svalue >= 50
			}
		}
		on_start = {
			trigger_event = { id = samnium_event.26 }
			custom_tooltip = samnium_hellenism_contact_reaction_tt
		}
	}

	samnium_2_task_3 = { # stay true to your values, limit trade to a minimum. little hellenic influences
		icon = "task_conquest"
		allow = {
			political_influence >= 50
		}
		requires = { samnium_2_task_2 }
		prevented_by = { samnium_2_task_4 samnium_2_task_5 }
		on_completion = {
			trigger_event = { id = samnium_event.27 }
			show_as_tooltip = {
				add_political_influence = -50
				add_country_modifier = {
					name = sam_cultural_resistance_path
					duration = 18250 # 50 years
				}
			}
		}
	}

	samnium_2_task_4 = { # syncretism; ± historical path, mix native with greek elements
		icon = "task_conquest"
		allow = {}
		prevented_by = { samnium_2_task_3 samnium_2_task_5 }
		requires = { samnium_2_task_2 }
		on_completion = {
			trigger_event = { id = samnium_event.28 }
			show_as_tooltip = {
				add_stability = 10
				add_country_modifier = {
					name = sam_harmony_path
					duration = 18250 # 50 years
				}
			}
		}
	}

	samnium_2_task_5 = { # philhellenism, convert and abandon native values
		icon = "task_conquest"
		allow = {}
		requires = { samnium_2_task_2 }
		prevented_by = { samnium_2_task_3 samnium_2_task_4 }
		on_completion = {
			trigger_event = { id = samnium_event.29 }
			show_as_tooltip = {
				soft_change_religion_effect = {
					RELIGION = roman_pantheon
				}
				add_country_modifier = {
					name = sam_philhellenism_path
					duration = -1 # this one is permanent!
				}
			}
		}
	}
	
	samnium_2_task_6 = { # resitance --> purge the hellenics
		icon = "task_conquest"
		allow = {
			religious_unity >= 90
		}
		requires = { samnium_2_task_3 }
		on_completion = {
			trigger_event = { id = samnium_event.30 }
			show_as_tooltip = {
				add_political_influence = 50
				add_country_modifier = {
					name = sam_purging_foreign_influences
					duration = 9125 # 25 years
				}
			}
		}
	}

	samnium_2_task_7 = { # syncretism --> some hotspots, but not terribly populated for the most part
		icon = "task_conquest"
		allow = {}
		requires = { samnium_2_task_4 }
		on_completion = {
			trigger_event = { id = samnium_event.31 }
			show_as_tooltip = {}
		}
	}

	samnium_2_task_8 = { # conversion --> urbanization
		icon = "task_conquest"
		allow = {}
		requires = { samnium_2_task_9 }
		on_completion = {
			trigger_event = { id = samnium_event.32 }
			show_as_tooltip = {
				add_country_modifier = {
					name = sam_urbanization_drive
					duration = -1
				}
			}
		}
	}

	samnium_2_task_9 = { # conversion --> convert
		icon = "task_conquest"
		allow = {
			religious_unity >= 80
		}
		requires = { samnium_2_task_5 }
		on_completion = {
			trigger_event = { id = samnium_event.33 }
			show_as_tooltip = {
				add_political_influence = 50
				add_country_modifier = {
					name = sam_converting_populace
					duration = 9125 # 25 years
				}
			}
		}
	}

	samnium_2_task_10 = { # traditional way of life - resistance --> rural
		icon = "task_conquest"
		allow = {
			invention = technology_cost_inv_1
			trigger_if = {
				limit = {
					is_republic = yes
				}
				has_law = republic_corruption_2
			}
			trigger_else = {
				current_ruler = {
					corruption = 0
				}
			}
		}
		requires = { samnium_2_task_3 }
		on_completion = {
			trigger_event = { id = samnium_event.34 }
			show_as_tooltip = {
				add_treasury = 250
				ordered_owned_province = {
					limit = {
						has_city_status = no
					}
					order_by = {
						value = 0
						add = population_cap
						subtract = total_population
					}
					max = 3
					check_range_bounds = no
					create_2_freemen_effect = yes
				}
			}
		}
	}

	samnium_2_task_11 = { # resistance --> rural strengthen the Pagus
		icon = "task_conquest"
		allow = {
			custom_tooltip = {
				text = pagi_svalue_tt
				samnite_production_svalue >= 15
			}
		}
		highlight = {
			scope:province = {
				owner = root
				OR = {
					has_city_status = no
				}
			}
		}
		requires = { samnium_2_task_6 samnium_2_task_10 }
		on_completion = {
			trigger_event = { id = samnium_event.35 }
			show_as_tooltip = {
				add_country_modifier = {
					name = strengthen_the_pagus
					duration = -1
				}
			}
		}
	}

	samnium_2_task_12 = { # resistance --> rural pastoralism, transhumance
		icon = "task_conquest"
		allow = {
			custom_tooltip = {
				text = sam_pastoralism_tt
				samnite_pastoralism_svalue >= 6
			}
		}
		highlight = {
			scope:province = {
				owner = root
				OR = {
					has_food_trade_good_trigger = yes
				}
			}
		}
		requires = { samnium_2_task_10 }
		on_completion = {
			trigger_event = { id = samnium_event.36 }
			show_as_tooltip = {
				add_country_modifier = {
					name = traditional_lifestyle
					duration = -1 # 36500 # 100 years
				}
			}
		}
	}

	samnium_2_task_13 = { # resistance --> rural increased production
		icon = "task_conquest"
		allow = {
			custom_tooltip = {
				text = samnite_production_svalue_tt
				samnnite_production_svalue >= 50
			}
		}
		requires = { samnium_2_task_12 samnium_2_task_11 }
		on_completion = {
			trigger_event = { id = samnium_event.37 }
			show_as_tooltip = {
				add_country_modifier = {
					name = sam_increased_production
					duration = -1
				}
			}
		}
	}

	samnium_2_task_14 = { # resistance --> destroy idols
		icon = "task_conquest"
		allow = {
			custom_tooltip = {
				text = sam_destroy_idols_tt
				sam_destroy_idols_svalue = 0
			}
		}
		highlight = {
			scope:province = {
				OR = {
					is_in_region = magna_graecia_region
					is_in_region = central_italy_region
					is_in_area = pisae_area
				}
				NOR = {
					is_in_area = corsica_area
					is_in_area = sardinia_septentrionalis
					is_in_area = sardinia_meridionalis
					is_in_area = syracuse_area
					is_in_area = east_sicily_area
					is_in_area = west_sicily_area
				}
			}
		}
		requires = { samnium_2_task_6 }
		on_completion = {
			trigger_event = { id = samnium_event.38 }
			show_as_tooltip = {
				create_country_treasure = {
					key = "sam_statue_maris"
					icon = "treasure_statue"
					modifier = {
						local_manpower_modifier = 0.25
					}
				}
				create_country_treasure = {
					key = "sam_statue_mefitis"
					icon = "treasure_statue"
					modifier = {
						local_nobles_desired_pop_ratio = 0.1
					}
				}
			}
		}
	}
}
