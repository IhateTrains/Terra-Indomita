#Ensuring that Roman women have proper cognomina
on_giving_birth_effect = {
	if = {
		limit = {
			scope:newborn = {
				exists = father
				father = { has_nickname = yes }
				is_male = yes
				OR = {
					has_culture = roman
					has_culture = samnite
					has_culture = umbrian
					has_culture = siculian
					has_culture = bruttian
					has_culture = lucanian
					has_culture = catari
					has_culture = etruscan
				}
			}
		}
		scope:newborn = {
			add_nickname = father
		}
	}
	else_if = {
		limit = {
			scope:newborn = {
				exists = father
				father = { has_nickname = yes }
				is_female = yes
				OR = {
					has_culture = etruscan
				}
			}
		}
		scope:newborn = {
			add_nickname = father
		}
	}
	else_if = {
		limit = {
			scope:newborn = {
				exists = father
				is_female = yes
				OR = {
					has_culture = roman
					has_culture = samnite
					has_culture = umbrian
					has_culture = siculian
					has_culture = bruttian
					has_culture = lucanian
					has_culture = catari
					has_culture = etruscan
				}
			}
		}
		scope:newborn = {
			if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						NOT = { has_variable = n_prima }
					}
				}	
				set_variable = n_prima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_prima
					}
				}	
				set_variable = n_secunda
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_secunda
					}
				}
				set_variable = n_tertia
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_tertia
					}
				}
				set_variable = n_quarta
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_quarta
					}
				}
				set_variable = n_quinta
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_quinta
					}
				}
				set_variable = n_septa
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_septa
					}
				}
				set_variable = n_septima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_septima
					}
				}
				set_variable = n_octava
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_octava
					}
				}
				set_variable = n_nona
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_nona
					}
				}
				set_variable = n_decima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_decima
					}
				}
				set_variable = n_undecima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:newborn.father
						has_variable = n_duodecima
					}
				}
				set_variable = n_duodecima
			}
			if = {
				limit = {
					has_nickname = no
					OR = {
						has_variable = n_prima
						has_variable = n_secunda
						has_variable = n_tertia
						has_variable = n_quarta
						has_variable = n_quinta
						has_variable = n_septa
						has_variable = n_septima
						has_variable = n_octava
						has_variable = n_nona
						has_variable = n_decima
						has_variable = n_undecima
						has_variable = n_duodecima
					}
				}
				if = {
					limit = {
						has_variable = n_prima
					}
					add_nickname = NICKNAME_PRIMA
					remove_variable = n_prima
				}
				else_if = {
					limit = {
						has_variable = n_secunda
					}
					add_nickname = NICKNAME_SECUNDA
					remove_variable = n_secunda
				}
				else_if = {
					limit = {
						has_variable = n_tertia
					}
					add_nickname = NICKNAME_TERTIA
					remove_variable = n_tertia
				}
				else_if = {
					limit = {
						has_variable = n_quarta
					}
					add_nickname = NICKNAME_QUARTA
					remove_variable = n_quarta
				}
				else_if = {
					limit = {
						has_variable = n_quinta
					}
					add_nickname = NICKNAME_QUINTA
					remove_variable = n_quinta
				}
				else_if = {
					limit = {
						has_variable = n_septa
					}
					add_nickname = NICKNAME_SEPTA
					remove_variable = n_septa
				}
				else_if = {
					limit = {
						has_variable = n_septima
					}
					add_nickname = NICKNAME_SEPTIMA
					remove_variable = n_septima
				}
				else_if = {
					limit = {
						has_variable = n_octava
					}
					add_nickname = NICKNAME_OCTAVA
					remove_variable = n_octava
				}
				else_if = {
					limit = {
						has_variable = n_nona
					}
					add_nickname = NICKNAME_NONA
					remove_variable = n_nona
				}
				else_if = {
					limit = {
						has_variable = n_decima
					}
					add_nickname = NICKNAME_DECIMA
					remove_variable = n_decima
				}
				else_if = {
					limit = {
						has_variable = n_undecima
					}
					add_nickname = NICKNAME_UNDECIMA
					remove_variable = n_undecima
				}
				else_if = {
					limit = {
						has_variable = n_duodecima
					}
					add_nickname = NICKNAME_DUODECIMA
					remove_variable = n_duodecima
				}
			}
		}
	}
}

on_becoming_adult_effect = {
	if = {
		limit = {
			has_nickname = no
			is_male = yes
			OR = {
				has_culture = roman
				has_culture = samnite
				has_culture = umbrian
				has_culture = siculian
				has_culture = bruttian
				has_culture = lucanian
				has_culture = catari
				has_culture = etruscan
			}
		}
		random_list = {
			75 = { }
			25 = { add_nickname = random }
		}
	}
	else_if = { #Etruscan women have normal cognomina
		limit = {
			has_nickname = no
			is_female = yes
			OR = {
				has_culture = etruscan
			}
		}
		random_list = {
			75 = { }
			25 = { add_nickname = random }
		}
	}
	else_if = { #Other Italic cultures have cognomina based on birth order
		limit = {
			has_nickname = no
			is_female = yes
			OR = {
				has_culture = roman
				has_culture = samnite
				has_culture = umbrian
				has_culture = siculian
				has_culture = bruttian
				has_culture = lucanian
				has_culture = catari
			}
		}
		save_temporary_scope_as = n_roman_woman
		scope:n_roman_woman = {
			if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						NOT = { has_variable = n_prima }
					}
				}	
				set_variable = n_prima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_prima
					}
				}	
				set_variable = n_secunda
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_secunda
					}
				}
				set_variable = n_tertia
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_tertia
					}
				}
				set_variable = n_quarta
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_quarta
					}
				}
				set_variable = n_quinta
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_quinta
					}
				}
				set_variable = n_septa
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_septa
					}
				}
				set_variable = n_septima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_septima
					}
				}
				set_variable = n_octava
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_octava
					}
				}
				set_variable = n_nona
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_nona
					}
				}
				set_variable = n_decima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_decima
					}
				}
				set_variable = n_undecima
			}
			else_if = {
				limit = {
					any_character = {
						is_child_of = scope:n_roman_woman.father
						has_variable = n_duodecima
					}
				}
				set_variable = n_duodecima
			}
			if = {
				limit = {
					has_nickname = no
					OR = {
						has_variable = n_prima
						has_variable = n_secunda
						has_variable = n_tertia
						has_variable = n_quarta
						has_variable = n_quinta
						has_variable = n_septa
						has_variable = n_septima
						has_variable = n_octava
						has_variable = n_nona
						has_variable = n_decima
						has_variable = n_undecima
						has_variable = n_duodecima
					}
				}
				if = {
					limit = {
						has_variable = n_prima
					}
					add_nickname = NICKNAME_PRIMA
					remove_variable = n_prima
				}
				else_if = {
					limit = {
						has_variable = n_secunda
					}
					add_nickname = NICKNAME_SECUNDA
					remove_variable = n_secunda
				}
				else_if = {
					limit = {
						has_variable = n_tertia
					}
					add_nickname = NICKNAME_TERTIA
					remove_variable = n_tertia
				}
				else_if = {
					limit = {
						has_variable = n_quarta
					}
					add_nickname = NICKNAME_QUARTA
					remove_variable = n_quarta
				}
				else_if = {
					limit = {
						has_variable = n_quinta
					}
					add_nickname = NICKNAME_QUINTA
					remove_variable = n_quinta
				}
				else_if = {
					limit = {
						has_variable = n_septa
					}
					add_nickname = NICKNAME_SEPTA
					remove_variable = n_septa
				}
				else_if = {
					limit = {
						has_variable = n_septima
					}
					add_nickname = NICKNAME_SEPTIMA
					remove_variable = n_septima
				}
				else_if = {
					limit = {
						has_variable = n_octava
					}
					add_nickname = NICKNAME_OCTAVA
					remove_variable = n_octava
				}
				else_if = {
					limit = {
						has_variable = n_nona
					}
					add_nickname = NICKNAME_NONA
					remove_variable = n_nona
				}
				else_if = {
					limit = {
						has_variable = n_decima
					}
					add_nickname = NICKNAME_DECIMA
					remove_variable = n_decima
				}
				else_if = {
					limit = {
						has_variable = n_undecima
					}
					add_nickname = NICKNAME_UNDECIMA
					remove_variable = n_undecima
				}
				else_if = {
					limit = {
						has_variable = n_duodecima
					}
					add_nickname = NICKNAME_DUODECIMA
					remove_variable = n_duodecima
				}
			}
			else = {
				random_list = {
					75 = { }
					4 = { add_nickname = NICKNAME_PRIMA }
					4 = { add_nickname = NICKNAME_SECUNDA }
					3 = { add_nickname = NICKNAME_TERTIA }
					3 = { add_nickname = NICKNAME_QUARTA }
					2 = { add_nickname = NICKNAME_QUINTA }
					2 = { add_nickname = NICKNAME_SEPTA }
					2 = { add_nickname = NICKNAME_SEPTIMA }
					1 = { add_nickname = NICKNAME_OCTAVA }
					1 = { add_nickname = NICKNAME_NONA }
					1 = { add_nickname = NICKNAME_DECIMA }
					1 = { add_nickname = NICKNAME_UNDECIMA }
					1 = { add_nickname = NICKNAME_DUODECIMA } 
				}
			}
		}
	}
}